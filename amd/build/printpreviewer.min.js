/**
 * JS handling of the printpreview form
 *
 * @module    local_assignsubmission_download/printpreviewer
 * @author    Andreas Krieger
 * @copyright 2014 Academic Moodle Cooperation {@link http://www.academic-moodle-cooperation.org}
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_assignsubmission_download/printpreviewer",["jquery","core/log"],(function($,log){var Printpreviewer=function(){};Printpreviewer.prototype.change_in_perpage=function(e){e.preventDefault(),e.stopPropagation(),0==$(window.combo[1]).val()?($(window.combo[0]).prop("checked",!0),$(window.combo[1]).prop("disabled",!0)):(window.stdperpage=$(window.combo[1]).val(),$(window.combo[0]).prop("checked",!1),$(window.combo[1]).prop("disabled",!1))},Printpreviewer.prototype.change_in_optimum=function(e){e.preventDefault(),e.stopPropagation(),$(window.combo[0]).prop("checked")?(window.stdperpage=$(window.combo[1]).val(),$(window.combo[1]).val(0),$(window.combo[1]).prop("disabled",!0)):($(window.combo[1]).val(window.stdperpage),$(window.combo[1]).prop("disabled",!1))};var instance=new Printpreviewer;return instance.initializer=function(){if(window.washere)return!0;window.washere=1,log.info("Initialise printpreview handling js...","local_assignsubmission_download");var filterelement=$("#id_filter"),groupelement=$("#id_group"),exportformat=$("#id_exportformat"),selectall=$("#selectall"),select=$("td.cell input[type=checkbox]"),toggleprintsettings=function(exportformat){0==exportformat?($("#id_grpperpage_perpage").prop("disabled",!1),$("#id_grpperpage_optimum").prop("disabled",!1),$("#id_textsize").prop("disabled",!1),$("#id_pageorientation").prop("disabled",!1),$("#id_printheader").prop("disabled",!1)):($("#id_grpperpage_perpage").prop("disabled",!0),$("#id_grpperpage_optimum").prop("disabled",!0),$("#id_textsize").prop("disabled",!0),$("#id_pageorientation").prop("disabled",!0),$("#id_printheader").prop("disabled",!0))};return filterelement&&filterelement.on("change",(function(){$("form.mform").submit()})),groupelement&&groupelement.on("change",(function(){$("form.mform").submit()})),exportformat&&exportformat.on("change",(function(){toggleprintsettings(exportformat.val())})),selectall.prop("checked","checked"),select.prop("checked","checked"),window.combo=new Array,window.combo[0]="input[id=id_grpperpage_optimum]",window.combo[1]="input[id=id_grpperpage_perpage]",window.stdperpage=$(window.combo[1]).val(),$(window.combo[0]).checked?$(window.combo[1]).prop("disabled",!0):$(window.combo[1]).prop("disabled",!1),$(window.combo[1]).change(this.change_in_perpage),$(window.combo[0]).change(this.change_in_optimum),toggleprintsettings(exportformat.val()),!0},instance}));

//# sourceMappingURL=printpreviewer.min.js.map