define(["jquery","core/log"],function(a,b){var c=function(){};c.prototype.change_in_perpage=function(b){b.preventDefault(),b.stopPropagation(),0==a(window.combo[1]).val()?(a(window.combo[0]).prop("checked",!0),a(window.combo[1]).prop("disabled",!0)):(window.stdperpage=a(window.combo[1]).val(),a(window.combo[0]).prop("checked",!1),a(window.combo[1]).prop("disabled",!1))},c.prototype.change_in_optimum=function(b){b.preventDefault(),b.stopPropagation(),a(window.combo[0]).prop("checked")?(window.stdperpage=a(window.combo[1]).val(),a(window.combo[1]).val(0),a(window.combo[1]).prop("disabled",!0)):(a(window.combo[1]).val(window.stdperpage),a(window.combo[1]).prop("disabled",!1))};var d=new c;return d.initializer=function(){if(window.washere)return!0;window.washere=1,b.info("Initialise printpreview handling js...","local_assignsubmission_download");var c=a("#id_filter"),d=a("#id_group"),e=a("#id_exportformat"),f=a("#selectall"),g=a("td.cell input[type=checkbox]"),h=function(b){0==b?(a("#id_grpperpage_perpage").prop("disabled",!1),a("#id_grpperpage_optimum").prop("disabled",!1),a("#id_textsize").prop("disabled",!1),a("#id_pageorientation").prop("disabled",!1),a("#id_printheader").prop("disabled",!1)):(a("#id_grpperpage_perpage").prop("disabled",!0),a("#id_grpperpage_optimum").prop("disabled",!0),a("#id_textsize").prop("disabled",!0),a("#id_pageorientation").prop("disabled",!0),a("#id_printheader").prop("disabled",!0))};return c&&c.on("change",function(){a("form.mform").submit()}),d&&d.on("change",function(){a("form.mform").submit()}),e&&e.on("change",function(){h(e.val())}),f.prop("checked","checked"),g.prop("checked","checked"),window.combo=new Array,window.combo[0]="input[id=id_grpperpage_optimum]",window.combo[1]="input[id=id_grpperpage_perpage]",window.stdperpage=a(window.combo[1]).val(),a(window.combo[0]).checked?a(window.combo[1]).prop("disabled",!0):a(window.combo[1]).prop("disabled",!1),a(window.combo[1]).change(this.change_in_perpage),a(window.combo[0]).change(this.change_in_optimum),h(e.val()),!0},d});